###########################
# Mexican Events
###########################
add_namespace = mexico

# 1 - The Untamed North
country_event = {
	id = mexico.1
	title = mexico.1.t
	desc = mexico.1.d

	fire_only_once = yes
	is_triggered_only = yes

	trigger = { tag = MEX }

	immediate = {
		hidden_effect = {
			country_event = {
				id = mexico.2
				days = 3
			}
		}
	}

	option = {
		name = mexico.1.a

	}
}

# 2 - The Second Culiacanazo
country_event = {
	id = mexico.2
	title = mexico.2.t
	desc = mexico.2.d

	fire_only_once = yes
	is_triggered_only = yes

	trigger = { tag = MEX }

	immediate = {
		country_event = {
			id = mexico.3
			days = 3
		}
	}

	option = {
		name = mexico.2.a

		481 = {
			set_demilitarized_zone = yes
		}
	}
}

# 3 - The Military Suggestion
country_event = {
	id = mexico.3
	title = mexico.3.t
	desc = mexico.3.d

	fire_only_once = yes
	is_triggered_only = yes

	trigger = { tag = MEX }

	immediate = {
		country_event = {
			id = mexico.4
			days = 5
		}
	}

	option = {
		name = mexico.3.a
		hidden_effect = {
			set_country_flag = MEX_centralized_military
		}
	}

	option = {
		name = mexico.3.b
	}
}

# 4 - The EZLN Starts Mobilizing
country_event = {
	id = mexico.4
	title = mexico.4.t
	desc = mexico.4.d

	fire_only_once = yes
	is_triggered_only = yes

	trigger = { tag = MEX }

	immediate = {
	}

	option = {
		name = mexico.4.a
		# Chiapas become demilitarized
		475 = {
			set_demilitarized_zone = yes
		}
	}
}

# 5 - The Juarez Massacre
country_event = {
	id = mexico.5
	title = mexico.5.t
	desc = mexico.5.d

	fire_only_once = yes
	is_triggered_only = yes

	trigger = { tag = MEX }

	immediate = {
	}

	option = {
		name = mexico.5.a

	}
}

# 6 - Evanlegical Militias

#Officers Engage Cartels
country_event = {
	id = mexico.14
	title = mexico.14.t
	desc = mexico.14.d
	picture = GFX_Generic_Mexican_Firefight
	fire_only_once = yes
	is_triggered_only = yes
	trigger = {
		tag = MEX
	}
	option = {
		name = mexico.14.a
	}
}

#Police Detain American Refugees
country_event = {
	id = mexico.15
	title = mexico.15.t
	desc = mexico.15.d
	picture = GFX_Generic_Mexican_Police
	fire_only_once = yes
	is_triggered_only = yes
	trigger = {
		tag = MEX
	}
	option = {
		name = mexico.15.a
		add_ideas = MEX_american_refugee_waves
	}
}

#Sinaloa Begins Siezing Territory
country_event = {
	id = mexico.16
	title = mexico.16.t
	desc = mexico.16.d
	picture = GFX_Generic_Mexican_Police
	fire_only_once = yes
	is_triggered_only = yes
	trigger = {
		tag = MEX
	}
	option = {
		name = mexico.16.a
		483 = {
			set_demilitarized_zone = yes
		}
		1136 = {
			set_demilitarized_zone = yes
		}
		1138 = {
			set_demilitarized_zone = yes
		}
		481 = {
			set_demilitarized_zone = yes
		}
	}
}

#CDJ Begins Siezing Territory
country_event = {
	id = mexico.8
	title = mexico.8.t
	desc = mexico.8.d
	picture = GFX_Generic_Mexican_Police
	fire_only_once = yes
	is_triggered_only = yes
	trigger = {
		tag = MEX
	}
	option = {
		name = mexico.8.a
		484 = {
			set_demilitarized_zone = yes
		}
		482 = {
			set_demilitarized_zone = yes
		}
		480 = {
			set_demilitarized_zone = yes
		}
	}
}

#CDG Begins Siezing Territory
country_event = {
	id = mexico.9
	title = mexico.9.t
	desc = mexico.9.d
	picture = GFX_Generic_Mexican_Police
	fire_only_once = yes
	is_triggered_only = yes
	trigger = {
		tag = MEX
	}
	option = {
		name = mexico.9.a
		479 = {
			set_demilitarized_zone = yes
		}
		1135 = {
			set_demilitarized_zone = yes
		}
		474 = {
			set_demilitarized_zone = yes
		}
		476 = {
			set_demilitarized_zone = yes
		}
	}
}

#Other Territories Collapse
country_event = {
	id = mexico.10
	title = mexico.10.t
	desc = mexico.10.d
	picture = GFX_Generic_Mexican_Police
	fire_only_once = yes
	is_triggered_only = yes
	trigger = {
		tag = MEX
	}
	option = {
		name = mexico.9.a
		475 = {
			set_demilitarized_zone = yes
		}
		1139 = {
			set_demilitarized_zone = yes
		}
	}
}

#Cartel War Begins
country_event = {
	id = mexico.11
	title = mexico.11.t
	desc = mexico.11.d
	picture = GFX_Generic_Mexican_Police
	fire_only_once = yes
	is_triggered_only = yes
	trigger = {
		tag = MEX
	}
	immediate = {
		hidden_effect = {
			set_global_flag = MEX_mexican_cartel_war_global
			MEX = {
				delete_unit_template_and_units = {
					division_template = "Brigada de Policía Militar"
				}
				delete_unit_template_and_units = {
					division_template = "Regimiento Infanteria Independiente"
				}
				delete_unit_template_and_units = {
					division_template = "Regimiento Motorizada Independiente"
				}
				delete_unit_template_and_units = {
					division_template = "Brigada de Infantería de Marina"
				}
				delete_unit_template_and_units = {
					division_template = "Brigada Blindada"
				}
				delete_unit_template_and_units = {
					division_template = "Brigada Infanteria"
				}
				remove_ideas = MEX_cartel_presence_severe
				add_ideas = MEX_collapsed_authority
				if = {
					limit = {
						is_ai = yes
						ATW = {
							is_ai = no
						}
					}
					add_ideas = MEX_hasten_war_idea
				}
			}
			BRN = {
				country_event = {
					id = brown.16
					days = 10
				}
			}
			BSK = {
				country_event = {
					id = brown.27
					days = 4
				}
			}
			CAS = {
				add_state_core = 1139
				transfer_state = 1139
				load_oob = "CAS_2020"
			}
			SIN = {
				every_state = {
					limit = {
						is_core_of = MEX
					}
					add_core_of = SIN
				}
				transfer_state = 483
				transfer_state = 1136
				transfer_state = 481
				transfer_state = 1138
				load_oob = "SIN_2020"
			}
			CDJ = {
				every_state = {
					limit = {
						is_core_of = MEX
					}
					add_core_of = CDJ
				}
				transfer_state = 484
				transfer_state = 480
				transfer_state = 478
				transfer_state = 482
				load_oob = "CDJ_2020"
			}
			LFM = {
				every_state = {
					limit = {
						is_core_of = MEX
					}
					add_core_of = LFM
				}
				transfer_state = 485
				load_oob = "LFM_2020"
			}
			GUC = {
				every_state = {
					limit = {
						is_core_of = MEX
					}
					add_core_of = GUC
				}
				transfer_state = 479
				transfer_state = 1135
				transfer_state = 476
				load_oob = "GUC_2020"
			}
			ZAP = {
				every_state = {
					limit = {
						is_core_of = MEX
					}
					add_core_of = ZAP
				}
				transfer_state = 475
				transfer_state = 474
				load_oob = "ZAP_2020"
			}
			SIN = {
				declare_war_on = {
					target = CDJ
					type = annex_everything
				}
				declare_war_on = {
					target = GUC
					type = annex_everything
				}
				declare_war_on = {
					target = ZAP
					type = annex_everything
				}
				declare_war_on = {
					target = LFM
					type = annex_everything
				}
				declare_war_on = {
					target = MEX
					type = annex_everything
				}
				declare_war_on = {
					target = CAS
					type = annex_everything
				}
			}
			CDJ = {
				declare_war_on = {
					target = GUC
					type = annex_everything
				}
				declare_war_on = {
					target = LFM
					type = annex_everything
				}
				declare_war_on = {
					target = ZAP
					type = annex_everything
				}
				declare_war_on = {
					target = MEX
					type = annex_everything
				}
				declare_war_on = {
					target = CAS
					type = annex_everything
				}
			}
			LFM = {
				declare_war_on = {
					target = MEX
					type = annex_everything
				}
				declare_war_on = {
					target = ZAP
					type = annex_everything
				}
				declare_war_on = {
					target = CAS
					type = annex_everything
				}
			}
			GUC = {
				declare_war_on = {
					target = ZAP
					type = annex_everything
				}
				declare_war_on = {
					target = MEX
					type = annex_everything
				}
				declare_war_on = {
					target = LFM
					type = annex_everything
				}
				declare_war_on = {
					target = CAS
					type = annex_everything
				}
			}
			ZAP = {
				declare_war_on = {
					target = CAS
					type = annex_everything
				}
				declare_war_on = {
					target = MEX
					type = annex_everything
				}
			}
			news_event = {
				id = news.159
				hours = 6
			}
		}
	}
	option = {
		name = mexico.11.a
	}
}

#Cartel War Ends
country_event = {
	id = mexico.12
	title = mexico.12.t
	desc = mexico.12.desc
	picture = GFX_Generic_Mexican_Police
	fire_only_once = yes
	is_triggered_only = yes
	trigger = {
		MEX_is_civil_war_faction = yes
	}
	immediate = {
		hidden_effect = {
			set_global_flag = MEX_mexican_cartel_war_over_global
			clr_global_flag = MEX_mexican_cartel_war_global
			set_country_flag = MEX_mexican_unifier_flag
			set_capital = {
				state = 1137
				remember_old_capital = no
			}
			if = {
				limit = {
					tag = MEX
				}
				annex_country = {
					target = CAS
					transfer_troops = yes
				}
				news_event = {
					id = news.359
					hours = 6
				}
				country_event = {
					id = mexico.13
					days = 15
				}
			}
			else_if = {
				limit = { 
					tag = ZAP
				}
				set_cosmetic_tag = MEX_reunified_zapatista
				news_event = {
					id = news.360
					hours = 6
				}
			}
			else = {
				set_cosmetic_tag = MEX_cartel_reunification
				news_event = {
					id = news.341
					hours = 6
				}
			}
			MEX_remove_cores_effect = yes
			if = {
				limit = {
					has_global_flag = ATW_aryan_liberation_war_global
				}
				CAN = {
					add_to_faction = ROOT
				}
			}
			if = {
				limit = {
					is_ai = yes
					ATW = {
						is_ai = no
					}
				}
				set_major = yes
				add_ideas = MEX_bulwark_against_fascism_idea
			}
		}
	}
	option = {
		name = mexico.12.a
	}
}
#SHEINBAUM
country_event = {
	id = mexico.13
	title = mexico.13.t
	desc = mexico.13.d
	picture = GFX_Generic_Elections
	fire_only_once = yes
	is_triggered_only = yes
	trigger = {
		tag = MEX
	}
	option = {
		name = mexico.13.a
		retire_country_leader = yes
		add_popularity = {
			ideology = social_democrat
			popularity = 0.07
		}
	}
}

### EVENTS FOR TFR: MEXICO EXPANSION ###
###################################################################################################################

#Initial Event 4T
country_event = {
	id = mexico.100
	title = mexico.100.t
	desc = mexico.100.d
	picture = GFX_report_event_MEX_fourth_transformation
	fire_only_once = yes
	is_triggered_only = yes
	trigger = {
		tag = MEX
	}
	option = {
		name = mexico.100.a
		complete_national_focus = MEX_together_doing_history
		hidden_effect = {
			set_country_flag = MEX_sided_with_amlo
			mark_focus_tree_layout_dirty = yes
		}
	}
	option = {
		name = mexico.100.b
		complete_national_focus = MEX_vamos_x_mexico
	}
}

# COVID Initializer
country_event = {
	id = mexico.101
	title = mexico.101.t
	desc = mexico.101.d
	picture = GFX_report_event_MEX_covid_picture 
	fire_only_once = yes
	is_triggered_only = yes
	trigger = {
		tag = MEX
	}

	immediate = {
		hidden_effect = {
			set_country_flag = MEX_covid_reached_mexico

		}
	}
	option = {
		name = mexico.101.a
		
		add_ideas = lower_covid_cases
		activate_mission = MEX_covid_worsening
	}
}

# Ingrid Feminicide
country_event = {
	id = mexico.102
	title = mexico.102.t
	desc = mexico.102.d
	picture = GFX_report_event_MEX_ingrid_escamilla_protests
	fire_only_once = yes
	is_triggered_only = yes
	trigger = {
		tag = MEX
	}

	immediate = {
		hidden_effect = {
			set_country_flag = MEX_feminist_protests
		}
	}
	option = {
		name = mexico.102.a

		add_stability = -0.05
		activate_mission = MEX_feminist_protest_mission
	}
}

# Oil Crisis
country_event = {
	id = mexico.103
	title = mexico.103.t
	desc = mexico.103.d
	picture = GFX_report_event_MEX_oil_crisis
	fire_only_once = yes
	is_triggered_only = yes
	trigger = {
		tag = MEX
	}
	option = {
		name = mexico.103.a
		add_timed_idea = {
			idea = MEX_oil_crisis
			days = 200
		}
		remove_ideas = MEX_pemex_idea
	}
}

# COVID Cases thanks to the Census
country_event = {
	id = mexico.104
	title = mexico.104.t
	desc = mexico.104.d
	picture = GFX_report_event_MEX_inegi_census
	fire_only_once = yes
	is_triggered_only = yes
	trigger = {
		tag = MEX
	}
	option = {
		name = mexico.104.a
		add_days_mission_timeout = {
			mission = MEX_covid_worsening
			days = -20
		}
	}
}

# Federal Elections of 2021
country_event = { 
	id = mexico.105
	title = mexico.105.t
	desc = mexico.105.d
	# picture =
	fire_only_once = yes
	is_triggered_only = yes
	trigger = {
		tag = MEX
	}
	option = {
		name = mexico.105.a
	}
}

# EZLN in Chiapas
country_event = { 
	id = mexico.106
	title = mexico.106.t
	desc = mexico.106.d
	picture = GFX_report_event_MEX_ezln_cells
	fire_only_once = yes
	is_triggered_only = yes
	trigger = {
		tag = MEX
	}
	option = {
		name = mexico.106.a
		MEX_chiapas_ezln_cells = yes
	}
}

# A Dawn of a Century
country_event = { 
	id = mexico.120
	title = mexico.120.t
	desc = mexico.120.d
	picture = GFX_report_event_MEX_dawn_of_a_century
	fire_only_once = yes
	is_triggered_only = yes
	trigger = {
		tag = MEX
	}

	immediate = {
		hidden_effect = {

			country_event = {
				id = mexico.121
				days = 7
			}

			set_country_flag = MEX_american_civil_war_tree_flag

			clr_country_flag = MEX_collapse_tree_flag
			clr_country_flag = MEX_reunification_tree_flag

			load_focus_tree = {
				tree = MEX_post_acw_tree 
				keep_completed = yes
			}

			mark_focus_tree_layout_dirty = yes
		}
	}
	option = {
		name = mexico.120.a

		unlock_focus_tree = yes
	}
}

# First Refugee Crisis
country_event = {
	id = mexico.121
	title = mexico.121.t
	desc = mexico.121.d
	picture = GFX_Latin_American_Caravan
	fire_only_once = yes
	is_triggered_only = yes
	trigger = {
		tag = MEX
	}

	immediate = {
		hidden_effect = {
			set_country_flag = MEX_refugee_crisis_activation

			country_event = {
				id = mexico.122
				days = 20
			}

			country_event = {
				id = mexico.123
				days = 7
			}
		}
	}
	option = {
		name = mexico.121.a
		add_ideas = MEX_american_refugee_waves
	}
}

# Hell over the Earth | Second Refugee Crisis
country_event = {
	id = mexico.122
	title = mexico.122.t
	desc = mexico.122.d
	picture = GFX_report_event_MEX_hell_over_earth
	fire_only_once = yes
	is_triggered_only = yes
	trigger = {
		tag = MEX
	}

	immediate = {

	}
	option = {
		name = mexico.122.a
		
		complete_national_focus = {
			focus = MEX_mexican_hell
		}
		set_country_flag = MEX_cartel_activation
		mark_focus_tree_layout_dirty = yes

		swap_ideas = {
			add_idea = MEX_american_refugee_waves_2
			remove_idea = MEX_american_refugee_waves
		}
	}
}

# Missing and People Trafficking Network
country_event = {
	id = mexico.123
	title = mexico.123.t
	desc = mexico.123.d
	picture = GFX_report_event_MEX_missing_crisis

	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
		tag = MEX
	}

	immediate = {}

	option = {
		name = mexico.123.a
		add_ideas = MEX_forced_missing_idea
	}
}

#Raid Successful
country_event = {
	id = mexico.124
	title = mexico.124.t
	desc = mexico.1.d
	picture = GFX_Generic_Fight_Jet
	fire_only_once = no
	is_triggered_only = yes
	trigger = {
		tag = MEX
	}
	option = {
		name = mexico.124.a
	}
}

#Raid Unsuccessful
country_event = {
	id = mexico.125
	title = mexico.125.t
	desc = mexico.125.d
	picture = GFX_Generic_Fight_Jet
	fire_only_once = no
	is_triggered_only = yes
	trigger = {
		tag = MEX
	}
	option = {
		name = mexico.125.a
	}
}

# Migrant Caravan Reaches Guatemalan Border
country_event = {
	id = mexico.126
	title = mexico.126.t
	desc = mexico.126.d
	picture = GFX_Latin_American_Caravan
	fire_only_once = yes
	is_triggered_only = yes
	trigger = {
		tag = MEX
	}
	option = {
		name = mexico.126.a
	}
	option = {
		name = mexico.126.b
	}
}

#########################################

country_event = {
	id = mexico.1984
	title = mexico.1984.t
	desc = mexico.1984.d
	picture = GFX_Grove_event
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			RGA = {
				set_cosmetic_tag = RGA_Grove_Street
				load_focus_tree = grove_street_tree
				create_country_leader = {
					name = carl_johnson_cj
					picture = "gfx/Leaders/MOL/CJ.png"
					expire = "1965.1.1"
					ideology = mafia_state_2
					traits = {
					}
				}
			}
			RPP = {
				set_cosmetic_tag = RPP_Ballas
				create_country_leader = {
					name = kane_ballas
					picture = "gfx/Leaders/MOL/Kane.png"
					expire = "1965.1.1"
					ideology = mafia_state_2
					traits = {
					}
				}
			}
		}
	}
	option = {
		name = mexico.1984.a
		RGA = { change_tag_from = APA }
	}
	option = {
		name = mexico.1985.b
	}
}

country_event = {
	id = mexico.1985
	title = mexico.1985.t
	desc = mexico.1985.d
	picture = GFX_Brat_event
	is_triggered_only = yes
	option = {
		name = mexico.1985.a
			set_cosmetic_tag = RGA_brat_dva
			create_country_leader = {
				name = brat_dva_leader
				picture = "gfx/Leaders/MOL/Brat2.png"
				expire = "1965.1.1"
				ideology = military_democracy
				traits = {
				}
			}
			set_party_name = {
				ideology = authoritarian_democrat
				name = RGA_bratki
				long_name = RGA_bratki
			}
	    set_politics = {
			ruling_party = authoritarian_democrat
		}
		mark_focus_tree_layout_dirty = yes
		set_country_flag = brat_dva
		clr_country_flag = yakuza
	}
	option = {
		name = mexico.1985.b
	}
}

country_event = {
	id = mexico.1986
	title = mexico.1986.t
	desc = mexico.1986.d
	picture = GFX_Kiryu_Kazuma
	is_triggered_only = yes
	option = {
		name = mexico.1986.a
			set_cosmetic_tag = RGA_jpa_cosmetic
			create_country_leader = {
				name = kazuma_kiryu
				picture = "gfx/Leaders/MOL/kiryu.png"
				expire = "1965.1.1"
				ideology = constitutionalist
				traits = {
				}
			}
			set_party_name = {
				ideology = conservative
				name = RGA_jpa
				long_name = RGA_jpa
			}
	    set_politics = {
			ruling_party = conservative
		}
		mark_focus_tree_layout_dirty = yes
		set_country_flag = yakuza
		clr_country_flag = brat_dva
	}
	option = {
		name = mexico.1986.b
	}
}

country_event = { #end cj content
	id = mexico.2000
	title = mexico.2000.t
	desc = mexico.2000.d
	picture = GFX_CJ_END
	is_triggered_only = yes
	option = {
		name = mexico.2000.a
		add_political_power = 15
	}
}

country_event = { #yay ka boom boom
	id = mexico.1988
	title = mexico.1988.t
	desc = mexico.1988.d
	picture = GFX_yay_boom
	is_triggered_only = yes
	option = {
		name = mexico.1988.a
		add_political_power = 15
	}
}
country_event = { #i want to believe
	id = mexico.1987
	title = mexico.1987.t
	desc = mexico.1987.d
	picture = GFX_no_bigfoot
	is_triggered_only = yes
	option = {
		name = mexico.1987.a
	}
}
country_event = { #chiti
	id = mexico.1999
	title = mexico.1999.t
	desc = mexico.1999.d
	picture = GFX_SA_Cheats
	is_triggered_only = yes
	option = {
		name = mexico.1999.a
	}
}
country_event = { #friday night
	id = mexico.3034
	title = mexico.3034.t
	desc = mexico.3034.d
	picture = GFX_friday_night
	is_triggered_only = yes
	option = {
		name = mexico.3034.a
	}
}
country_event = { #megagandon
	id = mexico.3030
	title = mexico.3030.t
	desc = mexico.3030.d
	picture = GFX_megagandon
	is_triggered_only = yes
	option = {
		name = mexico.3030.a
	}
}
country_event = { #v chem sila
	id = mexico.2001
	title = mexico.2001.t
	desc = mexico.2001.d
	picture = GFX_v_chem_sila
	is_triggered_only = yes
	option = {
		name = mexico.2001.a
		add_ideas = GRO_max_maxbetov
	}
	option = {
		name = mexico.2001.b
		add_ideas = GRO_okholbystin
	}
	option = {
		name = mexico.2001.c
		add_ideas = GRO_marginal
	}
	option = {
		name = mexico.2001.e
	}
}
country_event = { #brat 3
	id = mexico.3000
	title = mexico.3000.t
	desc = mexico.3000.d
	picture = GFX_brat_3
	is_triggered_only = yes
	option = {
		name = mexico.3000.a
	}
}
news_event = { #unification
	id = mexico.3050
	major = yes
	title = mexico.3050.t
	desc = mexico.3050.d
	picture = gta_sa_news
	is_triggered_only = yes
	option = {
     	name = mexico.3050.a
		trigger = {
			RGA = {
				has_government = conservative
			}
		}
		hidden_effect = {
			scoped_sound_effect = "kiryu_super"
			scoped_play_song = "one_minute_of_silence"
			set_country_flag = kiryu_super
	}
	}
	option = {
		name = mexico.3050.b
		trigger = {
			RGA = {
				has_government = nationalist
			}
		}
		hidden_effect = {
			scoped_sound_effect = "san_andreas_super"
			scoped_play_song = "one_minute_of_silence"
			set_country_flag = san_andreas_super
	}
	}
	option = {
		name = mexico.3050.c
		trigger = {
			RGA = {
				has_government = authoritarian_democrat
			}
		}
		hidden_effect = {
				scoped_sound_effect = "brat_dva_super"
				scoped_play_song = "one_minute_of_silence"
				set_country_flag = brat_dva_super
		}
	}
}